(function(e){var c=null;(c=openDatabase("data","1.0","\u5b58\u50a8",204800))&&c.transaction(function(a){a.executeSql("create table if not exists HTML (id integer primary key AUTOINCREMENT,name VARCHAR(50), content TEXT)",[],function(a,d){},function(a,d){console.error("\u521b\u5efa\u8868\u5931\u8d25:"+d.message)})});e.addHTML=function(a,b){c.transaction(function(d){d.executeSql("insert into HTML (name, content) values(?, ?)",[a,b],function(a,b){},function(a,b){console.error("\u6dfb\u52a0\u5931\u8d25"+b.message)})})};e.updateHTML=function(a,b){c.transaction(function(d){d.executeSql("update HTML set content\x3d? where name\x3d?",[b,a],function(a,b){},function(a,b){console.error("\u6dfb\u52a0\u5931\u8d25:"+b.message)})})};e.getHTML=function(a,b){var d="select content from HTML where name\x3d'"+a+"'";c.transaction(function(a){a.executeSql(d,[],function(a,d){b&&(0<d.rows.length?b(d.rows.item(0).content):b(null))},function(a,b){console.error("\u67e5\u8be2\u5931\u8d25:"+b.message)})})};e.deleteHTML=function(a,b){c.transaction(function(d){var c=[],e="delete from HTML";a&&(c.push(a),e+=" where name\x3d?");d.executeSql(e,c,function(d,c){b&&b(a)},function(a,b){alert("\u5220\u9664\u5931\u8d25:"+b.message)})})};e.getCount=function(a){c.transaction(function(b){b.executeSql("select count(name) as cot from HTML",[],function(b,c){a&&(0<c.rows.length?a(c.rows.item(0).cot):a(null))},function(a,b){console.error("\u67e5\u8be2\u5931\u8d25:"+b.message)})})}})(window);