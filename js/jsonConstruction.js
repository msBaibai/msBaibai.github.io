(function(b){function l(a){if("{}"!=JSON.stringify(c)){for(var g in c)if(c.hasOwnProperty(g)){var b=c[g];0!=b.num&&a(b,g)}d()}}function d(){localStorage.setItem("menuData",JSON.stringify(c))}var c=localStorage.getItem("menuData"),c=c?b.parseJSON(c):{};b.menuDataAdd=function(a,g){c[a]=g;d()};b.menuDataDelete=function(a){delete c[a];d()};b.createValJson=function(a,g,c,b,h,d){var e={};e.num=a;e.name=g;e.price=c;e.isTaoCan=b;e.type=h;e.recipeGroupID=d;return e};b.getJsonLength=function(){var a=0,b;for(b in c)a++;
return a};b.menuDataSetList=l;b.getMenuData=function(a){return c[a]};b.saveMenuData=d;b.clearMenuData=function(){c={};localStorage.setItem("menuData","{}")};b.menuDataChildrenRemove=function(a,b,f){delete c[a].children[b][f];c[a].isChecked=0;d()};b.menuDataChildrenAdd=function(a,b,f,m){c[a].children[b]||(c[a].children[b]={});c[a].children[b][f]=m;d()};b.createFoodListString=function(){var a="",c=1;l(function(f,d){a+=d+",";a+=f.num+",";a+="0,";a+=f.recipeGroupID+",";a+=c+",";a+=f.type+",";a+=b.data_currentUserId+
",";a+="0";a+="|";if(f.children){var h=f.children;for(d in h)if(h.hasOwnProperty(d))for(var k in h[d])if(h[d].hasOwnProperty(k)){var e=h[d][k];a+=k+",";a+=e.num+",";a+="0,";a+=e.recipeGroupID+",";a+=c+",";a+=e.type+",";a+=b.data_currentUserId+",";a+="0";a+="|"}}c++});return a}})($);